function divides(total,count,validator,change){if(count===1){return[total]}if(count<=0){return[]}if(total===0){return Array.apply(null,Array(count)).map(function(){return 0})}var isMinus=false;if(total<0){isMinus=true,total=-total}var saveTotal=total,saveCount=count;change=change||50;var result=[];for(var i=0,l=count-1;i<l;i++){var random;while(true){random=randomOne(total,count);if(random<3||!result.includes(random)){break}}total=total-random;count--;result.push(random)}result.push(total);if(isMinus){result=result.map(function(item){return -item})}if(typeof validator==="function"&&--change&&!validator(result)){return divides(saveTotal,saveCount,validator,change)}return result.sort(function(a,b){return b-a})}function randomOne(total,count){var min=1,max=Math.ceil(total/count*2);if(max<min){return 0}var random=Math.round(Math.random()*(max-min))+min;return random};